{"ast":null,"code":"var _jsxFileName = \"/home/m4lw/Documents/DECEIPT_EMAIL/frontend/src/pages/Challenge.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport EmailList from '../components/EmailList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Challenge() {\n  _s();\n  const [emails, setEmails] = useState([]);\n  const [responses, setResponses] = useState([]);\n  const [selectedEmail, setSelectedEmail] = useState(null);\n  const history = useHistory();\n  useEffect(() => {\n    fetch('http://localhost:5000/api/emails').then(res => res.json()).then(data => setEmails(data)).catch(err => console.error('Error fetching emails:', err));\n  }, []);\n  const handleAnswer = (emailId, userAnswer) => {\n    fetch('http://localhost:5000/api/check', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        emailId,\n        userAnswer\n      })\n    }).then(res => res.json()).then(data => {\n      const newResponses = [...responses, {\n        emailId,\n        ...data\n      }];\n      setResponses(newResponses);\n      setSelectedEmail(null);\n      if (newResponses.length === emails.length) {\n        history.push('/results', {\n          responses: newResponses\n        });\n      }\n    }).catch(err => console.error('Error checking answer:', err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Bandeja de entrada\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '30px',\n        flexWrap: 'wrap'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: '1',\n          minWidth: '300px',\n          maxWidth: '450px'\n        },\n        children: /*#__PURE__*/_jsxDEV(EmailList, {\n          emails: emails,\n          responses: responses,\n          onSelectEmail: setSelectedEmail,\n          selectedEmail: selectedEmail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), selectedEmail && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email-detail\",\n        style: {\n          flex: '2',\n          minWidth: '300px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: selectedEmail.subject\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"De:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 16\n          }, this), \" \", selectedEmail.sender]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Fecha:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 16\n          }, this), \" \", selectedEmail.date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: selectedEmail.body\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), selectedEmail.links.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Enlaces:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 18\n          }, this), \" \", selectedEmail.links.join(', ')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this), !responses.find(r => r.emailId === selectedEmail.id) ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleAnswer(selectedEmail.id, true),\n            style: {\n              marginRight: '15px'\n            },\n            children: \"Es Phishing\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleAnswer(selectedEmail.id, false),\n            children: \"Es Leg\\xEDtimo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: responses.find(r => r.emailId === selectedEmail.id).isCorrect ? '#2ea043' : '#f85149',\n            fontWeight: '500',\n            marginTop: '20px'\n          },\n          children: [responses.find(r => r.emailId === selectedEmail.id).isCorrect ? '¡Correcto!' : 'Incorrecto', \" -\", ' ', responses.find(r => r.emailId === selectedEmail.id).explanation]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(Challenge, \"O7WBc8I6ko1T981nJaNALLA52t4=\", false, function () {\n  return [useHistory];\n});\n_c = Challenge;\nexport default Challenge;\nvar _c;\n$RefreshReg$(_c, \"Challenge\");","map":{"version":3,"names":["React","useState","useEffect","useHistory","EmailList","jsxDEV","_jsxDEV","Challenge","_s","emails","setEmails","responses","setResponses","selectedEmail","setSelectedEmail","history","fetch","then","res","json","data","catch","err","console","error","handleAnswer","emailId","userAnswer","method","headers","body","JSON","stringify","newResponses","length","push","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","gap","flexWrap","flex","minWidth","maxWidth","onSelectEmail","subject","sender","date","links","join","find","r","id","marginTop","onClick","marginRight","color","isCorrect","fontWeight","explanation","_c","$RefreshReg$"],"sources":["/home/m4lw/Documents/DECEIPT_EMAIL/frontend/src/pages/Challenge.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport EmailList from '../components/EmailList';\n\nfunction Challenge() {\n  const [emails, setEmails] = useState([]);\n  const [responses, setResponses] = useState([]);\n  const [selectedEmail, setSelectedEmail] = useState(null);\n  const history = useHistory();\n\n  useEffect(() => {\n    fetch('http://localhost:5000/api/emails')\n      .then(res => res.json())\n      .then(data => setEmails(data))\n      .catch(err => console.error('Error fetching emails:', err));\n  }, []);\n\n  const handleAnswer = (emailId, userAnswer) => {\n    fetch('http://localhost:5000/api/check', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ emailId, userAnswer })\n    })\n      .then(res => res.json())\n      .then(data => {\n        const newResponses = [...responses, { emailId, ...data }];\n        setResponses(newResponses);\n        setSelectedEmail(null);\n        if (newResponses.length === emails.length) {\n          history.push('/results', { responses: newResponses });\n        }\n      })\n      .catch(err => console.error('Error checking answer:', err));\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>Bandeja de entrada</h1>\n      <div style={{ display: 'flex', gap: '30px', flexWrap: 'wrap' }}>\n        <div style={{ flex: '1', minWidth: '300px', maxWidth: '450px' }}>\n          <EmailList\n            emails={emails}\n            responses={responses}\n            onSelectEmail={setSelectedEmail}\n            selectedEmail={selectedEmail}\n          />\n        </div>\n        {selectedEmail && (\n          <div className=\"email-detail\" style={{ flex: '2', minWidth: '300px' }}>\n            <h2>{selectedEmail.subject}</h2>\n            <p><strong>De:</strong> {selectedEmail.sender}</p>\n            <p><strong>Fecha:</strong> {selectedEmail.date}</p>\n            <p>{selectedEmail.body}</p>\n            {selectedEmail.links.length > 0 && (\n              <p><strong>Enlaces:</strong> {selectedEmail.links.join(', ')}</p>\n            )}\n            {!responses.find(r => r.emailId === selectedEmail.id) ? (\n              <div style={{ marginTop: '20px' }}>\n                <button\n                  onClick={() => handleAnswer(selectedEmail.id, true)}\n                  style={{ marginRight: '15px' }}\n                >\n                  Es Phishing\n                </button>\n                <button onClick={() => handleAnswer(selectedEmail.id, false)}>\n                  Es Legítimo\n                </button>\n              </div>\n            ) : (\n              <p style={{\n                color: responses.find(r => r.emailId === selectedEmail.id).isCorrect ? '#2ea043' : '#f85149',\n                fontWeight: '500',\n                marginTop: '20px'\n              }}>\n                {responses.find(r => r.emailId === selectedEmail.id).isCorrect ? '¡Correcto!' : 'Incorrecto'} -{' '}\n                {responses.find(r => r.emailId === selectedEmail.id).explanation}\n              </p>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Challenge;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}